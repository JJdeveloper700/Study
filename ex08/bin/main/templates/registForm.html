<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>사원 등록</h1>
	<hr>
	<form action="/regist" method="post">
		아이디:<input type="text" name="id" required> <br> 
		<input type="button" value="중복확인" onclick="idCheck()">
		<div id="result"></div>
		패스워드:<input type="text" name="pw" required> <br> 
		이름:<input type="text" name="name" required> <br> 
		직급:<input type="text" name="rank" required><br> 
		<input type="submit" value="등록"><br>

	</form>
	<script>
		const txt_id = document.querySelector("input[name='id']")
		const div_result = document.querySelector("#result");

		function idCheck() {
			alert("id....");
			if(txt_id.value == ''){
				alert("id를 입력하세요!");
				return ;
			}
			const xhr = new XMLHttpRequest();

			xhr.onload = function() {
				div_result.innerHTML = xhr.responseText;
			}

			xhr.open("GET", "/idCheck?id=" + txt_id.value); //이거 뜻을 다시 한번 이해 해보자
			xhr.send();
		}
	</script>
</body>
</html>